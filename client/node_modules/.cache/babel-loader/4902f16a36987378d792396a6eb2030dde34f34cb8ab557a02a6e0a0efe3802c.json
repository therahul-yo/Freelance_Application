{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rahul\\\\Downloads\\\\Work-Wonders\\\\client\\\\src\\\\components\\\\Messages.jsx\",\n  _s = $RefreshSig$();\nimport noImage from '../assets/Images/no-image.png';\nimport { useEffect, useRef, useState } from 'react';\nimport { conversationMessages, setNewMessages } from '../Redux/ChatSlice';\nimport { toast } from 'react-toastify';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport moment from 'moment';\nimport { sendMessage } from '../Redux/ChatSlice';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Message(_ref) {\n  _s();\n  var _messages$messages, _messages$messages2, _messages$messages2$w, _messages$messages3, _messages$messages3$w, _messages$messages4, _messages$messages4$w, _messages$messages5, _messages$messages6;\n  let {\n    selectedMessage\n  } = _ref;\n  const message = useRef();\n  const chat = useRef();\n  const {\n    id\n  } = useParams();\n  const {\n    messages\n  } = useSelector(state => state.chat);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const socket = useRef();\n  const [arrivalMessage, setArrivalMessage] = useState(null);\n  useEffect(() => {\n    dispatch(conversationMessages(selectedMessage)).unwrap().then(data => {\n      if (data.status == 200) {\n        const newMessage = chat.current.lastElementChild;\n        if (newMessage) {\n          newMessage.scrollIntoView({\n            behavior: \"smooth\"\n          });\n        }\n      }\n      if (data.status == 404) {\n        toast.error(data.msg);\n        navigate('/login');\n      }\n      if (data.status == 505) {\n        toast.error(data.msg);\n      }\n    }).catch(rejectedValueOrSerializedError => {\n      toast.error(rejectedValueOrSerializedError);\n    });\n  }, [selectedMessage]);\n  useEffect(() => {\n    socket.current = io(\"ws://localhost:8900\");\n    socket.current.on('getMessage', data => {\n      setArrivalMessage({\n        senderId: data.senderId,\n        text: data.text,\n        createdAt: Date.now(),\n        chatId: data.chatId\n      });\n    });\n  }, []);\n  useEffect(() => {\n    arrivalMessage && arrivalMessage.chatId == selectedMessage && dispatch(setNewMessages(arrivalMessage));\n  }, [arrivalMessage]);\n  useEffect(() => {\n    socket.current.emit(\"addUser\", id);\n  }, [id]);\n  useEffect(() => {\n    if (chat.current) {\n      const newMessage = chat.current.lastElementChild;\n      if (newMessage) {\n        newMessage.scrollIntoView({\n          behavior: \"smooth\"\n        });\n      }\n    }\n  }, [messages]);\n  const sendMessageAndDisplay = () => {\n    if (message.current.value.trim() != \"\") {\n      const text = message.current.value.trim();\n      socket.current.emit('sendMessage', {\n        senderId: id,\n        receiverId: messages.messages.withInfo._id,\n        text,\n        chatId: selectedMessage\n      });\n      dispatch(sendMessage({\n        receiver: messages.messages.withInfo._id,\n        text\n      })).unwrap().then(data => {\n        if (data.status == 200) {\n          dispatch(conversationMessages(selectedMessage)).unwrap().then(data => {\n            if (data.status == 200) {\n              message.current.value = \"\";\n              const newMessage = chat.current.lastElementChild;\n              if (newMessage) {\n                newMessage.scrollIntoView({\n                  behavior: \"smooth\"\n                });\n              }\n            }\n            if (data.status == 404) {\n              toast.error(data.msg);\n              navigate('/login');\n            }\n            if (data.status == 505) {\n              toast.error(data.msg);\n            }\n          }).catch(rejectedValueOrSerializedError => {\n            toast.error(rejectedValueOrSerializedError);\n          });\n        }\n        if (data.status == 404) {\n          toast.error(data.msg);\n          navigate('/login');\n        }\n        if (data.status == 505) {\n          toast.error(data.msg);\n        }\n      }).catch(rejectedValueOrSerializedError => {\n        toast.error(rejectedValueOrSerializedError);\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"selectedMessage\",\n    children: [(messages === null || messages === void 0 ? void 0 : (_messages$messages = messages.messages) === null || _messages$messages === void 0 ? void 0 : _messages$messages.withInfo) && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selectedMessageHeader\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: (messages === null || messages === void 0 ? void 0 : (_messages$messages2 = messages.messages) === null || _messages$messages2 === void 0 ? void 0 : (_messages$messages2$w = _messages$messages2.withInfo) === null || _messages$messages2$w === void 0 ? void 0 : _messages$messages2$w.avatar) == \"no-image.png\" ? noImage : `http://localhost:3001/ProfilePic/${messages === null || messages === void 0 ? void 0 : (_messages$messages3 = messages.messages) === null || _messages$messages3 === void 0 ? void 0 : (_messages$messages3$w = _messages$messages3.withInfo) === null || _messages$messages3$w === void 0 ? void 0 : _messages$messages3$w.avatar}`,\n          alt: \"image test\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: messages === null || messages === void 0 ? void 0 : (_messages$messages4 = messages.messages) === null || _messages$messages4 === void 0 ? void 0 : (_messages$messages4$w = _messages$messages4.withInfo) === null || _messages$messages4$w === void 0 ? void 0 : _messages$messages4$w.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messageDate\",\n        children: moment(messages === null || messages === void 0 ? void 0 : (_messages$messages5 = messages.messages) === null || _messages$messages5 === void 0 ? void 0 : _messages$messages5.chatTime).format('LLL')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatM\",\n        ref: chat,\n        children: messages === null || messages === void 0 ? void 0 : (_messages$messages6 = messages.messages) === null || _messages$messages6 === void 0 ? void 0 : _messages$messages6.conversationMessages.map((message, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: message.senderId == id ? \"myMessage\" : \"usersMessage\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: message.senderId == id ? \"myMessageBody\" : \"usersMessageBody\",\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: moment(message.createdAt).format('LT')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 33\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sendBox\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputbox\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"svg\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"25\",\n            height: \"25\",\n            viewBox: \"0 0 25 25\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              id: \"paper-clip\",\n              d: \"M20.665,13.2a3.9,3.9,0,0,0-5.025,0L5.18,22.435a4.968,4.968,0,0,0,0,7.646,6.715,6.715,0,0,0,8.664,0l8.641-7.626a1.75,1.75,0,0,1,2.251,0,1.294,1.294,0,0,1,0,1.987l-8.641,7.626a10.2,10.2,0,0,1-13.166,0,7.549,7.549,0,0,1,0-11.619l10.46-9.231a7.384,7.384,0,0,1,9.528,0,5.464,5.464,0,0,1,0,8.408l-10.005,8.83a4.567,4.567,0,0,1-5.889,0,3.379,3.379,0,0,1,0-5.2l8.186-7.224a1.75,1.75,0,0,1,2.251,0,1.294,1.294,0,0,1,0,1.987L9.273,25.244a.8.8,0,0,0,0,1.224,1.08,1.08,0,0,0,1.387,0l10.005-8.83a2.883,2.883,0,0,0,0-4.435Z\",\n              transform: \"translate(-0.2 -9.475)\",\n              fill: \"rgba(112,112,112,0.5)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: message,\n          name: \"sendMessage\",\n          id: \"sendMessage\",\n          placeholder: \"Write Your Message Here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => sendMessageAndDisplay(),\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"25\",\n          height: \"25\",\n          viewBox: \"0 0 25 25\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            id: \"paper-plane-regular\",\n            d: \"M1.093,12.7a1.574,1.574,0,0,0,.176,2.8l6.855,2.856V23.4a1.6,1.6,0,0,0,2.824,1.021l3.029-3.628,6.054,2.52a1.577,1.577,0,0,0,2.145-1.206L25.3,1.793A1.563,1.563,0,0,0,22.983.2L1.093,12.7Zm2.546,1.245L20.325,4.42,9.6,16.4l.059.049Zm16.373,6.821-8.14-3.394L22.333,5.69Z\",\n            transform: \"translate(-0.322 0.004)\",\n            fill: \"#fbfbfb\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 9\n  }, this);\n}\n_s(Message, \"FAbrQwGGZu2oWtcsvlxYghcb9Io=\", false, function () {\n  return [useParams, useSelector, useNavigate, useDispatch];\n});\n_c = Message;\nvar _c;\n$RefreshReg$(_c, \"Message\");","map":{"version":3,"names":["noImage","useEffect","useRef","useState","conversationMessages","setNewMessages","toast","useNavigate","useParams","useDispatch","useSelector","moment","sendMessage","io","jsxDEV","_jsxDEV","Fragment","_Fragment","Message","_ref","_s","_messages$messages","_messages$messages2","_messages$messages2$w","_messages$messages3","_messages$messages3$w","_messages$messages4","_messages$messages4$w","_messages$messages5","_messages$messages6","selectedMessage","message","chat","id","messages","state","navigate","dispatch","socket","arrivalMessage","setArrivalMessage","unwrap","then","data","status","newMessage","current","lastElementChild","scrollIntoView","behavior","error","msg","catch","rejectedValueOrSerializedError","on","senderId","text","createdAt","Date","now","chatId","emit","sendMessageAndDisplay","value","trim","receiverId","withInfo","_id","receiver","className","children","src","avatar","alt","fileName","_jsxFileName","lineNumber","columnNumber","username","chatTime","format","ref","map","i","xmlns","width","height","viewBox","d","transform","fill","name","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/rahul/Downloads/Work-Wonders/client/src/components/Messages.jsx"],"sourcesContent":["import noImage from '../assets/Images/no-image.png'\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { conversationMessages, setNewMessages } from '../Redux/ChatSlice';\r\nimport { toast } from 'react-toastify';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment'\r\nimport { sendMessage } from '../Redux/ChatSlice';\r\nimport io from 'socket.io-client'\r\n\r\nexport default function Message({ selectedMessage }) {\r\n    const message = useRef()\r\n    const chat = useRef()\r\n    const { id } = useParams()\r\n    const { messages } = useSelector(state => state.chat)\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch()\r\n    const socket = useRef()\r\n    const [arrivalMessage, setArrivalMessage] = useState(null)\r\n\r\n    useEffect(() => {\r\n        dispatch(conversationMessages(selectedMessage)).unwrap().then(data => {\r\n            if (data.status == 200) {\r\n                const newMessage = chat.current.lastElementChild;\r\n                if (newMessage) {\r\n                    newMessage.scrollIntoView({ behavior: \"smooth\" });\r\n                }\r\n            }\r\n            if (data.status == 404) {\r\n                toast.error(data.msg)\r\n                navigate('/login')\r\n            }\r\n            if (data.status == 505) {\r\n                toast.error(data.msg)\r\n            }\r\n        }).catch((rejectedValueOrSerializedError) => {\r\n            toast.error(rejectedValueOrSerializedError)\r\n        })\r\n    }, [selectedMessage]);\r\n\r\n    useEffect(() => {\r\n        socket.current = io(\"ws://localhost:8900\")\r\n        socket.current.on('getMessage', (data) => {\r\n            setArrivalMessage({\r\n                senderId: data.senderId,\r\n                text: data.text,\r\n                createdAt: Date.now(),\r\n                chatId: data.chatId\r\n            })\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        arrivalMessage && arrivalMessage.chatId == selectedMessage &&\r\n            dispatch(setNewMessages(arrivalMessage))\r\n    }, [arrivalMessage])\r\n\r\n    useEffect(() => {\r\n        socket.current.emit(\"addUser\", id)\r\n    }, [id])\r\n\r\n    useEffect(() => {\r\n        if (chat.current) {\r\n            const newMessage = chat.current.lastElementChild;\r\n            if (newMessage) {\r\n                newMessage.scrollIntoView({ behavior: \"smooth\" });\r\n            }\r\n        }\r\n    }, [messages])\r\n\r\n    const sendMessageAndDisplay = () => {\r\n        if (message.current.value.trim() != \"\") {\r\n            const text = message.current.value.trim()\r\n            socket.current.emit('sendMessage', {\r\n                senderId: id,\r\n                receiverId: messages.messages.withInfo._id,\r\n                text,\r\n                chatId: selectedMessage\r\n            })\r\n            dispatch(sendMessage({ receiver: messages.messages.withInfo._id, text })).unwrap().then(data => {\r\n                if (data.status == 200) {\r\n                    dispatch(conversationMessages(selectedMessage)).unwrap().then(data => {\r\n                        if (data.status == 200) {\r\n                            message.current.value = \"\"\r\n                            const newMessage = chat.current.lastElementChild;\r\n                            if (newMessage) {\r\n                                newMessage.scrollIntoView({ behavior: \"smooth\" });\r\n                            }\r\n                        }\r\n                        if (data.status == 404) {\r\n                            toast.error(data.msg)\r\n                            navigate('/login')\r\n                        }\r\n                        if (data.status == 505) {\r\n                            toast.error(data.msg)\r\n                        }\r\n                    }).catch((rejectedValueOrSerializedError) => {\r\n                        toast.error(rejectedValueOrSerializedError)\r\n                    })\r\n                }\r\n                if (data.status == 404) {\r\n                    toast.error(data.msg)\r\n                    navigate('/login')\r\n                }\r\n                if (data.status == 505) {\r\n                    toast.error(data.msg)\r\n                }\r\n            }).catch((rejectedValueOrSerializedError) => {\r\n                toast.error(rejectedValueOrSerializedError)\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"selectedMessage\">\r\n            {\r\n                messages?.messages?.withInfo &&\r\n                <>\r\n                    <div className=\"selectedMessageHeader\">\r\n                        <img src={messages?.messages?.withInfo?.avatar == \"no-image.png\" ? noImage : `http://localhost:3001/ProfilePic/${messages?.messages?.withInfo?.avatar}`} alt=\"image test\" />\r\n                        <span>{messages?.messages?.withInfo?.username}</span>\r\n\r\n                    </div>\r\n                    <div className=\"messageDate\">\r\n                        {moment(messages?.messages?.chatTime).format('LLL')}\r\n                    </div>\r\n                    <div className=\"chatM\" ref={chat}>\r\n                        {messages?.messages?.conversationMessages.map((message, i) =>\r\n                            <div key={i} className={message.senderId == id ? \"myMessage\" : \"usersMessage\"}>\r\n                                <div className={message.senderId == id ? \"myMessageBody\" : \"usersMessageBody\"}>\r\n                                    {message.text}\r\n                                </div>\r\n                                <span>{moment(message.createdAt).format('LT')}</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </>\r\n            }\r\n\r\n\r\n            <hr />\r\n            <div className=\"sendBox\">\r\n                <div className=\"inputbox\">\r\n                    <div className=\"svg\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" viewBox=\"0 0 25 25\">\r\n                            <path id=\"paper-clip\" d=\"M20.665,13.2a3.9,3.9,0,0,0-5.025,0L5.18,22.435a4.968,4.968,0,0,0,0,7.646,6.715,6.715,0,0,0,8.664,0l8.641-7.626a1.75,1.75,0,0,1,2.251,0,1.294,1.294,0,0,1,0,1.987l-8.641,7.626a10.2,10.2,0,0,1-13.166,0,7.549,7.549,0,0,1,0-11.619l10.46-9.231a7.384,7.384,0,0,1,9.528,0,5.464,5.464,0,0,1,0,8.408l-10.005,8.83a4.567,4.567,0,0,1-5.889,0,3.379,3.379,0,0,1,0-5.2l8.186-7.224a1.75,1.75,0,0,1,2.251,0,1.294,1.294,0,0,1,0,1.987L9.273,25.244a.8.8,0,0,0,0,1.224,1.08,1.08,0,0,0,1.387,0l10.005-8.83a2.883,2.883,0,0,0,0-4.435Z\" transform=\"translate(-0.2 -9.475)\" fill=\"rgba(112,112,112,0.5)\" />\r\n                        </svg>\r\n                    </div>\r\n                    <textarea ref={message} name=\"sendMessage\" id=\"sendMessage\" placeholder=\"Write Your Message Here\"></textarea>\r\n                </div>\r\n                <button onClick={() => sendMessageAndDisplay()}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" viewBox=\"0 0 25 25\">\r\n                        <path id=\"paper-plane-regular\" d=\"M1.093,12.7a1.574,1.574,0,0,0,.176,2.8l6.855,2.856V23.4a1.6,1.6,0,0,0,2.824,1.021l3.029-3.628,6.054,2.52a1.577,1.577,0,0,0,2.145-1.206L25.3,1.793A1.563,1.563,0,0,0,22.983.2L1.093,12.7Zm2.546,1.245L20.325,4.42,9.6,16.4l.059.049Zm16.373,6.821-8.14-3.394L22.333,5.69Z\" transform=\"translate(-0.322 0.004)\" fill=\"#fbfbfb\" />\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}